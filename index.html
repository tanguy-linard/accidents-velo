<html>

<head>
    <meta charset="utf8" />
    <title>Accidents de vélo en Suisse</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script src="https://d3js.org/d3.v7.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.js"></script>
</head>

<body>
    <!-- Conteneur pour le titre et le slider -->
    <div class="header-container">
        <!-- Titre principal -->
        <div class="title">
            <h1>Accidents à vélo en Suisse</h1>
            <h2>Avec dommage corporel depuis 2011</h2>
        </div>

        <!-- Slider -->
        <div id="slider-container">
            <div id="date-range-slider"></div>
            <span id="selected-dates"></span>
        </div>
    </div>

    <div id="map"></div>

    <!-- sidebar -->
    <div class = "infobar">

      <!-- informations pour la Suisse -->
      <div class = "general">
        <h2><b>Résultats en Suisse</b></h2>
        <table class="info_general">
          <tr>
            <td class="label"><b>Electeurs inscrits:</b></td>
            <td>5 174 961</td>
          </tr>
          <tr>
            <td class="label"><b>Taux de participation:</b></td>
            <td>46.51%</td>
          </tr>
          <tr>
            <td class="label"><b>Bulletins valables</b></td>
            <td>2 348 456</td>
          </tr>
          <tr>
            <td class="label"><b>Oui:</b></td>
            <td>1 476 942</td>
          </tr>
          <tr> 
            <td class="label"><b>Non:</b></td>
            <td>871 514</td>
          </tr>
          <tr>
            <td class="label"><b>Proportion de oui:</b></td>
            <td>62.89%</td>
          </tr>
        </table>
      </div>

      <!-- boutons pour choisir type de region affiché -->
      <div class = "button" style="border-top: 1px solid #c0c0c0; margin-top: 10px;">
        <input id = "canton" type="radio" name="regionButton" value="1" />
        <label for="canton">Cantons</label>

        <input id="district" type="radio" name="regionButton" value="2" />
        <label for="district">Districts</label>

        <input id="commune" type="radio" name="regionButton" value="3" checked/>
        <label for="commune">Communes</label>
      </div>

      <!-- legende -->
      <div class = "legend" style="border-top: 1px solid #c0c0c0; margin-top: 10px;">
        <h2><b>Proportion de oui</b></h2>
        <svg width="400" height="220">
          <rect class = "box_max" x="1" y="10" width="29" height="22" fill="#2166ac" stroke="#000000" strokeWidth="0.5" />
          <rect x="1" y="35" width="29" height="22" fill="#4393c3" stroke="#000000" strokeWidth="0.5" />
          <rect x="1" y="60" width="29" height="22" fill="#92c5de" stroke="#000000" strokeWidth="0.5" />
          <rect x="1" y="85" width="29" height="22" fill="#d1e5f0" stroke="#000000" strokeWidth="0.5" />
          <rect x="1" y="110" width="29" height="22" fill="#fddbc7" stroke="#000000" strokeWidth="0.5" />
          <rect x="1" y="135" width="29" height="22" fill="#f4a582" stroke="#000000" strokeWidth="0.5" />
          <rect x="1" y="160" width="29" height="22" fill="#d6604d" stroke="#000000" strokeWidth="0.5" />
          <rect x="1" y="185" width="29" height="22" fill="#b2182b" stroke="#000000" strokeWidth="0.5" />

          <line class = "line_max" x1="30" y1="10" x2="35" y2="10" strokeWidth="0.5" stroke="#000000" />
          <line x1="30" y1="35" x2="35" y2="35" strokeWidth="0.5" stroke="#000000" />
          <line x1="30" y1="60" x2="35" y2="60" strokeWidth="0.5" stroke="#000000" />
          <line x1="30" y1="85" x2="35" y2="85" strokeWidth="0.5" stroke="#000000" />
          <line x1="30" y1="110" x2="35" y2="110" strokeWidth="0.5" stroke="#000000" />
          <line x1="30" y1="135" x2="35" y2="135" strokeWidth="0.5" stroke="#000000" />
          <line x1="30" y1="160" x2="35" y2="160" strokeWidth="0.5" stroke="#000000" />
          <line x1="30" y1="185" x2="35" y2="185" strokeWidth="0.5" stroke="#000000" />
          <line x1="30" y1="207" x2="35" y2="207" strokeWidth="0.5" stroke="#000000" />
          
          <text class = "max" x="38" y="15">Max: 86.21% (Hüniken)</text>
          <text class = "80p" x="38" y="40">80%</text>
          <text x="38" y="65">70%</text>
          <text x="38" y="90">60%</text>
          <text x="38" y="115">50%</text>
          <text x="38" y="140">40%</text>
          <text x="38" y="165">30%</text>
          <text x="38" y="190">20%</text>
          <text class = "min" x="38" y="215">Min: 6% (Evolène)</text>
        </svg>
      </div>

      <!-- affiche information de la region selectionne -->
      <div class = "infobox" style="border-top: 1px solid #c0c0c0; margin-top: 10px;">
        <p><i>Cliquez sur une zone pour obtenir le résultat détaillé.</i></p>
      </div>

      <div class = "sources">
        <i>Données : Office Fédérale de la Statistique, 2023<br>
        Auteur : Tanguy Linard, 2023</i>
    </div>

    <!-- script js -->
    <script src="index.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
</body>

</html>